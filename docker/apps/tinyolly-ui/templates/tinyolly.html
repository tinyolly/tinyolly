<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TinyOlly</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
    {% include 'partials/styles.html' %}
    <script>
        window.onerror = function (msg, url, line, col, error) {
            const errorDiv = document.createElement('div');
            errorDiv.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; background: #fee2e2; color: #991b1b; padding: 10px; text-align: center; z-index: 100000; border-bottom: 1px solid #ef4444; font-family: monospace; font-size: 12px;';
            errorDiv.textContent = 'JS Error: ' + msg + ' at ' + url + ':' + line;
            document.body.prepend(errorDiv);
            console.error('Global error:', error);
            return false;
        };
    </script>
</head>

<body>
    {% include 'partials/header.html' with context %}

    <div class="container">
        {% include 'partials/tabs.html' %}

        {% include 'partials/logs-tab.html' %}
        {% include 'partials/traces-tab.html' %}
        {% include 'partials/spans-tab.html' %}
        {% include 'partials/metrics-tab.html' %}
        {% include 'partials/service-catalog-tab.html' %}
        {% include 'partials/service-map-tab.html' %}
    </div>

    <!-- Auto-Refresh Toggle Button -->
    <button class="refresh-button" onclick="toggleAutoRefresh()" title="Pause auto-refresh" id="auto-refresh-btn">
        <span id="refresh-icon">‚è∏</span>
    </button>

    <script type="module" src="/static/tinyolly.js?v=20251122b"></script>
</body>

</html>